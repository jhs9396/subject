<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>no force</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.9.1/d3.min.js"></script>
    <style>
        html, body, #container {
            width: 100%;
            height: 100%;
        }
    </style>

</head>
<body>

<div id="container">
    <svg width="100%" height="100%">
        <g class="main"    >
            <g class="edgesGrp"></g>

            <g class="vertexGrp"></g>
        </g>
    </svg>
</div>
</body>
<script>
    let force01 = d3.forceSimulation();


    window.addEventListener('load',()=>{
        force01.on('tick', tickFunc)

        d3.json('../data/miserables.json').then(json=>{
            console.log('json', json)

            force01.nodes(json.nodes, d=>d.id)
        })
    })


    function tickFunc() {
        let vertexSelection = d3.select('.vertexGrp').selectAll('.vertex').data(force01.nodes())
        vertexSelection.enter().append('circle')
            .attr('cx',d=>d.x)
            .attr('cy',d=>d.y)
            .attr('r',10)

        vertexSelection
            .attr('cx',d=>d.x)
            .attr('cy',d=>d.y)
    }

</script>
</html>